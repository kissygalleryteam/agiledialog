KISSY.add('kg/agiledialog/1.0.0/index',["node","base","../build/index.css"],function(S ,require, exports, module) {var t=require("node").all,e=require("base"),e=require("../build/index.css"),o=e.extend({initializer:function(){var t=this;t.buildDom(),t.maskZoom(),t.dialogPos(),t.bindEvent()},getDomStr:function(){var t=this,e="",o=t.get("type");switch(o){case"confirm":e=t._getConfirmHtml();break;case"alert":e=t._getAlertHtml();break;default:e=t._getDialogHtml()}var i='<div id="J_ModalDialog" class="dialogContainer"><div class="maskLayer"></div><div class="modalDialog">'+e+"</div></div>";return i},_getDialogHtml:function(){var t=this,e=t.get("title"),o=t.get("content"),i=t.get("footHtml"),n='<div class="modalHeader"><a href="javascript:;" class="close closeBtn">×</a><h3 class="title">'+e+'</h3></div><div class="modalBody">'+o+"</div>"+i;return n},_getAlertHtml:function(){var t=this,e=t.get("content"),o=(t.get("footHtml"),'<div class="modalBody center">'+e+'</div><div class="modalFooter"><button class="btn saveBtn">确定</button></div>');return o},_getConfirmHtml:function(){var t=this,e=t.get("content"),o=t.get("footHtml"),i='<div class="modalBody center">'+e+"</div>"+o;return i},buildDom:function(){var e=this.getDomStr(),o=this.J_ModalDialog=t(e);t("body").append(o)},maskZoom:function(){var t=window.innerHeight,e=document.body.offsetHeight,o=this.J_ModalDialog.one(".maskLayer");return t>=e?o.css("height",t+"px"):o.css("height",e+"px"),this},dialogPos:function(){{var t=this,e=t.J_ModalDialog.one(".modalDialog"),o=e.height(),i=document.body.scrollTop;window.innerHeight}t.get("posType")&&"absolute"===t.get("posType")?e.css("margin-top",i-o/2+"px"):e.css({"margin-top":-(o/2)+"px"})},bindEvent:function(){var t=this.J_ModalDialog,e=this;t.delegate("click",".closeBtn",function(){e.get("onCancel")&&e.get("onCancel")(),e.destroy()}).delegate("click",".saveBtn",function(){e.get("onConfirm")&&e.get("onConfirm")(),e.destroy()})},destroy:function(){this.J_ModalDialog.remove()}},{ATTRS:{type:{value:"dialog"},title:{value:"Title"},content:{value:"<h3>content</h3>"},footHtml:{value:'<div class="modalFooter"><button class="btn closeBtn">取消</button><button class="btn saveBtn">确定</button></div>'},onCancel:{value:function(){}},onConfirm:{value:function(){}},posType:{value:"fixed"}}});module.exports=o;});