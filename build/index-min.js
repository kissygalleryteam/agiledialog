KISSY.add("kg/agiledialog/1.0.5/index",["node","dom","base","kg/agiledialog/1.0.5/index.css"],function(t,e,o,a){{var i,l=e("node"),n=e("dom"),s=e("base");e("kg/agiledialog/1.0.5/index.css")}i=function(t){var e=l,o=n,a=s,i=a.extend({initializer:function(){var t=this;t.buildDom(),t.maskZoom(),t.dialogPos(),t.bindEvent()},getDomStr:function(){var t=this,e="",o=t.get("skin"),a=t.get("type");switch(a){case"confirm":e=t._getConfirmHtml();break;case"alert":e=t._getAlertHtml();break;case"alertPretty":e=t._getAlertHasCloseHtml();break;default:e=t._getDialogHtml()}var i='<div id="J_ModalDialog" class="dialogContainer '+o+'"><div class="maskLayer"></div><div class="modalDialog">'+e+"</div></div>";return i},_getDialogHtml:function(){var t=this,e=t.get("title"),o=t.get("content"),a=t.get("footHtml"),i='<div class="modalHeader"><a href="javascript:;" class="close closeBtn">×</a><h3 class="title">'+e+'</h3></div><div class="modalBody">'+o+"</div>"+a;return i},_getAlertHtml:function(){var t=this,e=t.get("content"),o=(t.get("footHtml"),'<div class="modalHeader alertHeader"><a href="javascript:;" class="close closeBtn">×</a></div><div class="modalBody center">'+e+'</div><div class="modalFooter"><button class="btn saveBtn">确定</button></div>');return o},_getAlertHasCloseHtml:function(){var t=this,e=t.get("content"),o='<div class="modalHeader alertHeader"><a href="javascript:;" class="close closeBtn">×</a></div><div class="modalBody center">'+e+'</div><div class="modalFooter"><button class="btn saveBtn">确定</button></div>';return o},_getConfirmHtml:function(){var t=this,e=t.get("content"),o=t.get("footHtml"),a='<div class="modalBody center">'+e+"</div>"+o;return a},buildDom:function(){var t=this.getDomStr(),o=this.J_ModalDialog=e(t);e.all("body").append(o)},maskZoom:function(){var t=o.viewportHeight(),e=this.J_ModalDialog.one(".maskLayer");return e.css("height",t),this},dialogPos:function(){{var t=this,e=t.J_ModalDialog.one(".modalDialog"),o=e.height(),a=document.body.scrollTop;window.innerHeight}t.get("posType")&&"absolute"===t.get("posType")?e.css("margin-top",a-o/2+"px"):e.css({"margin-top":-(o/2)+"px"})},bindEvent:function(){var t=this.J_ModalDialog,e=this;t.delegate("click",".closeBtn",function(){e.get("onCancel")&&e.get("onCancel")(),e.destroy()}).delegate("click",".saveBtn",function(){e.get("onConfirm")&&e.get("onConfirm")(),e.destroy()})},destroy:function(){this.J_ModalDialog.remove()}},{ATTRS:{type:{value:"dialog"},title:{value:"Title"},content:{value:"<h3>content</h3>"},footHtml:{value:'<div class="modalFooter"><button class="btn closeBtn">取消</button><button class="btn saveBtn">确定</button></div>'},onCancel:{value:function(){}},onConfirm:{value:function(){}},posType:{value:"fixed"},skin:{value:""}}});return t=i}(),a.exports=i});